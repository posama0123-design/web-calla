<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>個別番号で通話するサイト</title>
    <style>
        body { font-family: sans-serif; text-align: center; background: #eef2f3; padding: 40px; }
        .card { background: white; padding: 30px; border-radius: 15px; display: inline-block; box-shadow: 0 4px 15px rgba(0,0,0,0.1); }
        input { padding: 10px; font-size: 16px; border: 1px solid #ddd; border-radius: 5px; margin: 10px; }
        button { padding: 10px 20px; font-size: 16px; cursor: pointer; border-radius: 5px; border: none; background: #28a745; color: white; }
        #my-id { font-weight: bold; color: #007bff; font-size: 20px; }
    </style>
</head>
<body>
    <div class="card">
        <h1>音声通話ルーム</h1>
        <p>あなたの番号: <span id="my-id">発行中...</span></p>
        
        <input type="text" id="their-id" placeholder="友達の番号を入力">
        <button id="make-call">電話をかける</button>
        
        <div id="status" style="margin-top:20px; color: #666;"></div>
        <audio id="remote-audio" autoplay></audio>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/@skyway-sdk/room/dist/skyway_room.js"></script>
    <script>
        // ここに本来はAPIキーを入れます
        const status = document.getElementById('status');
        
        // 友達に教えるための「自分の番号」をランダムに作る
        const myId = "ID-" + Math.floor(Math.random() * 10000);
        document.getElementById('my-id').innerText = myId;

        document.getElementById('make-call').onclick = () => {
            const targetId = document.getElementById('their-id').value;
            if(!targetId) return alert("相手の番号を入れてね");
            status.innerText = targetId + " さんに接続中...";
            // ここで実際に通信が始まります
        };
    </script>
</body>
</html>
