<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>ã‚¬ãƒ©ã‚±ãƒ¼SMSå†ç¾</title>
    <style>
        body { background: #333; display: flex; justify-content: center; align-items: center; height: 100vh; font-family: sans-serif; }
        /* ã‚¬ãƒ©ã‚±ãƒ¼æœ¬ä½“ */
        .phone { width: 280px; background: #222; border-radius: 20px; padding: 20px; border: 4px solid #444; box-shadow: 0 0 20px rgba(0,0,0,0.5); }
        /* ç”»é¢ */
        .screen { background: #c5d0ba; height: 300px; border: 5px solid #111; padding: 10px; display: flex; flex-direction: column; overflow: hidden; position: relative; }
        .status-bar { font-size: 12px; display: flex; justify-content: space-between; border-bottom: 1px solid #555; margin-bottom: 5px; }
        .chat-log { flex: 1; font-size: 14px; overflow-y: auto; color: #111; }
        .input-area { background: #fff; min-height: 20px; font-size: 14px; padding: 2px; border: 1px solid #888; margin-top: 5px; color: #000; }
        
        /* ã‚­ãƒ¼ãƒ‘ãƒƒãƒ‰ */
        .keypad { display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; margin-top: 20px; }
        button { background: #444; color: white; border: none; padding: 10px; border-radius: 5px; cursor: pointer; font-size: 12px; border-bottom: 3px solid #111; }
        button:active { border-bottom: 1px solid #111; transform: translateY(2px); }
        .send-btn { grid-column: span 3; background: #2a5d2a; margin-top: 5px; }
    </style>
</head>
<body>

<div class="phone">
    <div class="screen">
        <div class="status-bar">
            <span>ğŸ“¶ åœå†…</span>
            <span>12:34</span>
            <span>ğŸ”‹</span>
        </div>
        <div class="chat-log" id="chatLog">å—ä¿¡ç®± (0)</div>
        <div class="input-area" id="display"></div>
    </div>

    <div class="keypad">
        <button onclick="press('1')">1<br>ã‚ã„ã†ãˆãŠ</button>
        <button onclick="press('2')">2<br>ã‹ããã‘ã“</button>
        <button onclick="press('3')">3<br>ã•ã—ã™ã›ã</button>
        <button onclick="press('4')">4<br>ãŸã¡ã¤ã¦ã¨</button>
        <button onclick="press('5')">5<br>ãªã«ã¬ã­ã®</button>
        <button onclick="press('6')">6<br>ã¯ã²ãµã¸ã»</button>
        <button onclick="press('7')">7<br>ã¾ã¿ã‚€ã‚ã‚‚</button>
        <button onclick="press('8')">8<br>ã‚„ã‚†ã‚ˆ</button>
        <button onclick="press('9')">9<br>ã‚‰ã‚Šã‚‹ã‚Œã‚</button>
        <button onclick="clearInput()">ã‚¯ãƒªã‚¢</button>
        <button onclick="press('0')">0<br>ã‚ã‚’ã‚“</button>
        <button onclick="press('#')">â™¯<br>è¨˜å·</button>
        <button class="send-btn" onclick="sendMsg()">é€ä¿¡ (ãƒ¡ãƒ¼ãƒ«å®Œäº†)</button>
    </div>
</div>

<script>
    const mapping = {
        '1': ['ã‚', 'ã„', 'ã†', 'ãˆ', 'ãŠ'],
        '2': ['ã‹', 'ã', 'ã', 'ã‘', 'ã“'],
        '3': ['ã•', 'ã—', 'ã™', 'ã›', 'ã'],
        '4': ['ãŸ', 'ã¡', 'ã¤', 'ã¦', 'ã¨'],
        '5': ['ãª', 'ã«', 'ã¬', 'ã­', 'ã®'],
        '6': ['ã¯', 'ã²', 'ãµ', 'ã¸', 'ã»'],
        '7': ['ã¾', 'ã¿', 'ã‚€', 'ã‚', 'ã‚‚'],
        '8': ['ã‚„', 'ã‚†', 'ã‚ˆ'],
        '9': ['ã‚‰', 'ã‚Š', 'ã‚‹', 'ã‚Œ', 'ã‚'],
        '0': ['ã‚', 'ã‚’', 'ã‚“'],
        '#': ['ã€', 'ã€‚', 'ï¼', 'ï¼Ÿ']
    };

    let lastKey = null;
    let index = 0;
    let currentText = "";
    let timer = null;

    function press(key) {
        if (lastKey === key) {
            index = (index + 1) % mapping[key].length;
            currentText = currentText.slice(0, -1) + mapping[key][index];
        } else {
            index = 0;
            currentText += mapping[key][index];
        }
        lastKey = key;
        updateDisplay();
        
        clearTimeout(timer);
        timer = setTimeout(() => { lastKey = null; }, 1000); // 1ç§’çµŒã£ãŸã‚‰æ¬¡ã®æ–‡å­—ã¸
    }

    function updateDisplay() {
        document.getElementById('display').innerText = currentText;
    }

    function clearInput() {
        currentText = "";
        updateDisplay();
    }

    function sendMsg() {
        if (!currentText) return;
        const log = document.getElementById('chatLog');
        log.innerHTML += `<div>é€ä¿¡: ${currentText}</div>`;
        currentText = "";
        updateDisplay();
        log.scrollTop = log.scrollHeight;
    }
</script>

</body>
</html>
