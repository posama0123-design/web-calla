<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>„Ç¨„É©„Ç±„ÉºSMS - Pro Mode</title>
    <style>
        body { background: #1a1a1a; display: flex; justify-content: center; align-items: center; height: 100vh; margin: 0; font-family: sans-serif; }
        .phone { width: 300px; background: #333; border-radius: 30px; padding: 20px; border: 4px solid #555; box-shadow: 0 20px 50px rgba(0,0,0,0.8); }
        
        /* ÁîªÈù¢ */
        .screen { background: #9dae8d; height: 260px; border: 8px solid #111; padding: 5px; display: flex; flex-direction: column; color: #1a1a1a; margin-bottom: 15px; }
        .status-bar { font-size: 11px; display: flex; justify-content: space-between; border-bottom: 1px solid #7a8a6d; padding-bottom: 2px; }
        .chat-log { flex: 1; font-size: 13px; overflow-y: auto; padding: 5px; }
        .input-area { background: #fff; min-height: 40px; font-size: 16px; padding: 4px; border: 2px solid #555; color: #000; }

        /* ÂçÅÂ≠ó„Ç≠„Éº„Çª„ÇØ„Ç∑„Éß„É≥ */
        .navigation { display: grid; grid-template-areas: ". up ." "left ok right" ". down ."; justify-content: center; gap: 5px; margin-bottom: 15px; }
        .nav-btn { width: 45px; height: 35px; background: #444; border: 1px solid #666; color: white; border-radius: 5px; cursor: pointer; }
        .ok-btn { grid-area: ok; width: 50px; height: 50px; border-radius: 50%; background: radial-gradient(#666, #222); font-weight: bold; border: 2px solid #888; }

        /* „ÉÄ„Ç§„É§„É´„Ç≠„Éº */
        .keypad { display: grid; grid-template-columns: repeat(3, 1fr); gap: 8px; }
        button { background: linear-gradient(#eee, #ccc); color: #333; border: 1px solid #999; padding: 10px 0; border-radius: 6px; cursor: pointer; border-bottom: 3px solid #888; }
        button:active { transform: translateY(2px); border-bottom: 1px solid #888; }
        .key-num { font-size: 16px; font-weight: bold; display: block; }
        .key-label { font-size: 9px; display: block; color: #666; }
        
        .special-key { background: linear-gradient(#ddd, #bbb); }
        .del-btn { color: #d00; }
    </style>
</head>
<body>

<div class="phone">
    <div class="screen">
        <div class="status-bar">
            <span>üì∂ ÂúèÂÜÖ</span>
            <span id="clock">00:00</span>
            <span>üîã</span>
        </div>
        <div class="chat-log" id="chatLog">Âèó‰ø°ÁÆ±</div>
        <div class="input-area" id="display"></div>
    </div>

    <div class="navigation">
        <button class="nav-btn" style="grid-area: up">‚ñ≤</button>
        <button class="nav-btn" style="grid-area: left">‚óÄ</button>
        <button class="ok-btn" onclick="sendMsg()">Ê±∫ÂÆö</button>
        <button class="nav-btn" style="grid-area: right">‚ñ∂</button>
        <button class="nav-btn" style="grid-area: down">‚ñº</button>
    </div>

    <div class="keypad">
        <button onclick="press('1')"><span class="key-num">1</span><span class="key-label">„ÅÇ</span></button>
        <button onclick="press('2')"><span class="key-num">2</span><span class="key-label">„Åã</span></button>
        <button onclick="press('3')"><span class="key-num">3</span><span class="key-label">„Åï</span></button>
        <button onclick="press('4')"><span class="key-num">4</span><span class="key-label">„Åü</span></button>
        <button onclick="press('5')"><span class="key-num">5</span><span class="key-label">„Å™</span></button>
        <button onclick="press('6')"><span class="key-num">6</span><span class="key-label">„ÅØ</span></button>
        <button onclick="press('7')"><span class="key-num">7</span><span class="key-label">„Åæ</span></button>
        <button onclick="press('8')"><span class="key-num">8</span><span class="key-label">„ÇÑ</span></button>
        <button onclick="press('9')"><span class="key-num">9</span><span class="key-label">„Çâ</span></button>
        <button onclick="toggleSize()" class="special-key"><span class="key-num">Ôºä</span><span class="key-label">Â§ß/Â∞è</span></button>
        <button onclick="press('0')"><span class="key-num">0</span><span class="key-label">„Çè</span></button>
        <button onclick="clearInput()" class="special-key del-btn">‚å´</button>
    </div>
</div>

<script>
    function updateClock() {
        const now = new Date();
        document.getElementById('clock').innerText = now.getHours().toString().padStart(2, '0') + ":" + now.getMinutes().toString().padStart(2, '0');
    }
    setInterval(updateClock, 1000); updateClock();

    const mapping = {
        '1': ['„ÅÇ', '„ÅÑ', '„ÅÜ', '„Åà', '„Åä'], '2': ['„Åã', '„Åç', '„Åè', '„Åë', '„Åì'],
        '3': ['„Åï', '„Åó', '„Åô', '„Åõ', '„Åù'], '4': ['„Åü', '„Å°', '„Å§', '„Å¶', '„Å®'],
        '5': ['„Å™', '„Å´', '„Å¨', '„Å≠', '„ÅÆ'], '6': ['„ÅØ', '„Å≤', '„Åµ', '„Å∏', '„Åª'],
        '7': ['„Åæ', '„Åø', '„ÇÄ', '„ÇÅ', '„ÇÇ'], '8': ['„ÇÑ', '„ÇÜ', '„Çà'],
        '9': ['„Çâ', '„Çä', '„Çã', '„Çå', '„Çç'], '0': ['„Çè', '„Çí', '„Çì', '„Éº']
    };

    const smallChars = {
        '„ÅÇ': '„ÅÅ', '„ÅÑ': '„ÅÉ', '„ÅÜ': '„ÅÖ', '„Åà': '„Åá', '„Åä': '„Åâ',
        '„Å§': '„Å£', '„ÇÑ': '„ÇÉ', '„ÇÜ': '„ÇÖ', '„Çà': '„Çá'
    };

    let lastKey = null;
    let index = 0;
    let currentText = "";
    let timer = null;

    function press(key) {
        if (lastKey === key) {
            index = (index + 1) % mapping[key].length;
            currentText = currentText.slice(0, -1) + mapping[key][index];
        } else {
            index = 0;
            currentText += mapping[key][index];
        }
        lastKey = key;
        updateDisplay();
        clearTimeout(timer);
        timer = setTimeout(() => { lastKey = null; }, 800);
    }

    // Â§ßÊõ∏„Åç„ÉªÂ∞èÊõ∏„ÅçÂàá„ÇäÊõø„ÅàÊ©üËÉΩ
    function toggleSize() {
        if (currentText.length === 0) return;
        const lastChar = currentText.slice(-1);
        let newChar = lastChar;

        // Â∞èÊñáÂ≠ó„Å´„Åô„Çã„Åã„ÄÅÂ∞èÊñáÂ≠ó„ÇíÂ§ßÊñáÂ≠ó„Å´Êàª„Åô
        for (let key in smallChars) {
            if (lastChar === key) { newChar = smallChars[key]; break; }
            if (lastChar === smallChars[key]) { newChar = key; break; }
        }
        
        currentText = currentText.slice(0, -1) + newChar;
        updateDisplay();
    }

    function updateDisplay() { document.getElementById('display').innerText = currentText; }
    function clearInput() { if (currentText.length > 0) { currentText = currentText.slice(0, -1); updateDisplay(); } }

    function sendMsg() {
        if (!currentText) return;
        const log = document.getElementById('chatLog');
        log.innerHTML += `<div style="text-align:right; color:#003366;">‰∫àÔºö${currentText}</div>`;
        currentText = "";
        updateDisplay();
        log.scrollTop = log.scrollHeight;
    }
</script>

</body>
</ht
