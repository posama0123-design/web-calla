<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>ã‚¬ãƒ©ã‚±ãƒ¼ - SO Style Custom</title>
    <style>
        :root { --lcd-bg: #c2c7ba; --lcd-text: #333; }
        body { background: #1a1a1a; display: flex; justify-content: center; align-items: center; height: 100vh; margin: 0; font-family: "MS Gothic", "Osaka", monospace; }
        .phone { width: 300px; background: linear-gradient(#ccc, #999); border-radius: 20px; padding: 20px; border: 4px solid #666; }
        
        .screen { background: var(--lcd-bg); height: 280px; border: 10px solid #111; display: flex; flex-direction: column; color: var(--lcd-text); position: relative; overflow: hidden; }
        .status-bar { font-size: 12px; display: flex; justify-content: space-between; padding: 2px 5px; border-bottom: 1px solid rgba(0,0,0,0.1); }
        
        .menu-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; padding: 15px 10px; flex: 1; }
        .menu-item { text-align: center; font-size: 11px; padding: 2px; border: 1px solid transparent; }
        .menu-item.selected { background-color: #555; color: #fff; }
        .icon { font-size: 20px; display: block; }

        .app-layer { position: absolute; top: 20px; left: 0; width: 100%; height: calc(100% - 20px); background: var(--lcd-bg); display: none; flex-direction: column; padding: 5px; box-sizing: border-box; }
        #memoInput { width: 90%; flex: 1; background: transparent; border: 1px solid #555; font-family: inherit; font-size: 14px; resize: none; margin-bottom: 5px; }

        .navigation { display: grid; grid-template-areas: ". up ." "left ok right" ". down ."; justify-content: center; gap: 5px; margin: 15px 0; }
        .nav-btn { width: 45px; height: 30px; background: #444; color: white; border-radius: 5px; cursor: pointer; }
        .ok-btn { grid-area: ok; width: 50px; height: 50px; border-radius: 50%; background: #222; color: white; border: 2px solid #888; cursor: pointer; }

        .keypad { display: grid; grid-template-columns: repeat(3, 1fr); gap: 5px; }
        .keypad button { background: #eee; border: 1px solid #999; padding: 12px; border-radius: 4px; font-weight: bold; cursor: pointer; }
        .back-btn { background: #ddd !important; color: #d00; }
    </style>
</head>
<body>

<div class="phone">
    <div class="screen">
        <div class="status-bar"><span>*Yll</span><span id="clock">12:00</span><span>ğŸ”‹</span></div>

        <div class="menu-grid" id="homeMenu">
            <div class="menu-item selected" id="menu-0"><span class="icon">ğŸ“–</span>ã‚¢ãƒ‰ãƒ¬ã‚¹å¸³</div>
            <div class="menu-item" id="menu-1"><span class="icon">ğŸ“</span>é›»è©±</div>
            <div class="menu-item" id="menu-2"><span class="icon">ğŸ“</span>ãƒ¡ãƒ¢</div>
            <div class="menu-item"><span class="icon">ğŸŒ</span>iãƒ¢ãƒ¼ãƒ‰</div>
            <div class="menu-item"><span class="icon">ğŸ“©</span>ãƒ¡ãƒ¼ãƒ«</div>
            <div class="menu-item"><span class="icon">âš™ï¸</span>è¨­å®š</div>
        </div>

        <div class="app-layer" id="appScreen">
            <div style="border-bottom: 1px solid #000; margin-bottom: 5px; font-weight: bold;" id="appTitle"></div>
            <div id="appContent" style="flex: 1; display: flex; flex-direction: column;"></div>
            <div id="appFooter" style="font-size: 10px; border-top: 1px dotted #000; text-align: center;">[æˆ»ã‚‹]ã§ä¿å­˜ã—ã¦çµ‚äº†</div>
        </div>
    </div>

    <div class="navigation">
        <button class="nav-btn" style="grid-area: up" onclick="moveMenu(-3)">â–²</button>
        <button class="nav-btn" style="grid-area: left" onclick="moveMenu(-1)">â—€</button>
        <button class="ok-btn" onclick="openApp()">æ±ºå®š</button>
        <button class="nav-btn" style="grid-area: right" onclick="moveMenu(1)">â–¶</button>
        <button class="nav-btn" style="grid-area: down" onclick="moveMenu(3)">â–¼</button>
    </div>

    <div class="keypad">
        <button onclick="keyPress('1')">1</button><button onclick="keyPress('2')">2</button><button onclick="keyPress('3')">3</button>
        <button onclick="keyPress('4')">4</button><button onclick="keyPress('5')">5</button><button onclick="keyPress('6')">6</button>
        <button onclick="keyPress('7')">7</button><button onclick="keyPress('8')">8</button><button onclick="keyPress('9')">9</button>
        <button onclick="keyPress('*')">ï¼Š</button><button onclick="keyPress('0')">0</button><button onclick="keyPress('#')">ï¼ƒ</button>
        <button class="back-btn" onclick="closeApp()" style="grid-column: span 3;">æˆ»ã‚‹ / çµ‚äº†</button>
    </div>
</div>

<script>
    let selectedIndex = 0;
    let isAppOpen = false;

    function moveMenu(diff) {
        if (isAppOpen) return;
        document.getElementById(`menu-${selectedIndex}`)?.classList.remove('selected');
        selectedIndex = (selectedIndex + diff + 6) % 6;
        document.getElementById(`menu-${selectedIndex}`)?.classList.add('selected');
    }

    function openApp() {
        isAppOpen = true;
        const appScreen = document.getElementById('appScreen');
        const title = document.getElementById('appTitle');
        const content = document.getElementById('appContent');
        appScreen.style.display = 'flex';
        
        if (selectedIndex === 0) {
            title.innerText = "ã‚¢ãƒ‰ãƒ¬ã‚¹å¸³";
            content.innerHTML = "<div style='color:#666'>ï¼ˆç™»éŒ²ãªã—ï¼‰</div>";
        } else if (selectedIndex === 1) {
            title.innerText = "é›»è©±ç•ªå·å…¥åŠ›";
            content.innerHTML = "<div id='dialNum' style='font-size:20px; text-align:center; margin-top:20px;'></div>";
        } else if (selectedIndex === 2) {
            title.innerText = "ãƒ¡ãƒ¢å¸³";
            const savedMemo = localStorage.getItem('keita_memo') || "";
            content.innerHTML = `<textarea id="memoInput">${savedMemo}</textarea>`;
        }
    }

    function closeApp() {
        if (selectedIndex === 2) { // ãƒ¡ãƒ¢ä¿å­˜
            const val = document.getElementById('memoInput').value;
            localStorage.setItem('keita_memo', val);
        }
        document.getElementById('appScreen').style.display = 'none';
        isAppOpen = false;
        document.getElementById('dialNum') && (document.getElementById('dialNum').innerText = "");
    }

    function keyPress(num) {
        if (!isAppOpen) return;
        if (selectedIndex === 1) { // é›»è©±
            document.getElementById('dialNum').innerText += num;
        }
        // ãƒ¡ãƒ¢å…¥åŠ›ä¸­ã®ãƒˆã‚°ãƒ«å…¥åŠ›ã¯ã€ä»¥å‰ã®ãƒ­ã‚¸ãƒƒã‚¯ã‚’textareaã«å¿œç”¨å¯èƒ½
    }

    function updateClock() {
        const now = new Date();
        document.getElementById('clock').innerText = now.getHours().toString().padStart(2, '0') + ":" + now.getMinutes().toString().padStart(2, '0');
    }
    setInterval(updateClock, 1000); updateClock();
</script>
</body>
</html>
